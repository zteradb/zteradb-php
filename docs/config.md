---
sidebar_position: 2
---

# ZTeraDB Configuration

The `ZTeraDBConfig` object is used to configure the connection settings to ZTeraDB. Below is an explanation of its properties:

## **Syntax**
## Class
#### `ZTeraDBConfig(client_key: string, access_key: string, secret_key: string, database_id: string, env: ENVS, options: Optional(Options), response_data_type: [string | ResponseDataTypes])`
```php
require_once "vendor/autoload.php";

use ZTeraDB\Config\ZTeraDBConfig;

$min_conn = 1;
$max_conn = 5;

# ZTeraDB configuration details
$zteradb_config = new ZTeraDBConfig([
    "client_key" => getenv("CLIENT_KEY"),
    "access_key" => getenv("ACCESS_KEY"),
    "secret_key" => getenv("SECRET_KEY"),
    "database_id" => getenv("DATABASE_ID"),
    "env" => ENVS::dev,
    "options" => new Options([
            'connection_pool' => new ConnectionPool($min_conn, $max_conn);
    ]),
    "response_data_type" => ResponseDataTypes::json,
]);
```

## Properties

- **client_key**: string
  The unique client key generated for the developer/user.
  - Each developer/user can have only one **clientKey**.
  - The clientKey can be retrieved from ZTeraDB dashboard [https://zteradb.com/security-credentials](https://zteradb.com/security-credentials).


- **access_key**: string

  The access key generated by the developer/user.
  - A developer/user can generate multiple **accessKeys**.
  - At any given time, only one **accessKey** will be in use.
  - The developer/user can enable or disable the accessKey directly from the ZTeraDB dashboard [https://zteradb.com/security-credentials](https://zteradb.com/security-credentials).


- **secret_key**: string

  The secret key generated by the developer/user.
  - A developer/user can generate multiple **secretKeys**.
  - Once the secret key is generated, it must be kept safe, as it will only be visible to the developer/user at the time of generation. After that, it will no longer be visible.
  - At any given time, only one **secretKey** will be in use.
  - The developer/user can enable or disable the **secretKey** directly from the ZTeraDB dashboard [https://zteradb.com/security-credentials](https://zteradb.com/security-credentials).

- **database_id**: string

  The database hash identifier obtained from ZTeraDB dashboard

- **env**: string

  The environment setting for the database, where queries are executed.

  - ZTeraDB supports the following environments:
    - **dev**: Development environment
    - **staging**: Staging environment
    - **qa**: Quality assurance environment
    - **dev**: Production environment
  
  - This setting is configured at the ZTeraDB instance level, and the developer/user can choose the environment during the creation of the ZTeraDB (database) instance.

  - You can print all environment using following
  ```php
  use ZTeraDB\Config\ENVS;

  print_r(ENVS::ENV_LIST);
  ```

  - **response_data_type**: string

  The type of response data retrieved from the ZTeraDB query result.

  - By default, this is set to **"json"**.

  - Currently, ZTeraDB only supports the JSON format, but additional response data types will be made available in the future.

  - This setting works internally within the ZTeraDB-client library.

  - You can print all response data type using following
  ```php
  use ZTeraDB\Config\ResponseDataTypes;
  print_r(ResponseDataTypes::RESPONSE_DATA_TYPES);
  ```

  - **options**: Options

  Additional configuration options.

  - **connection_pool**: ConnectionPool object

    ZTeraDB provides developers with the ability to configure connection pools by setting the minimum (**min**) and maximum (**max**) number of connections.

    - **min**: number

      The minimum number of connections in the pool.

      - If set, ZTeraDB will acquire the minimum number of connections as soon as the process starts.
    
    - **max**: number

      The maximum number of connections in the pool.

      - If set, the process will not create more connections than the specified maximum.

    **Note**:
    - If neither min nor max is set, the ZTeraDB client library will automatically manage the connections.

## Example

```php
use ZTeraDB\Config\Options;
use ZTeraDB\Config\ConnectionPool;
use ZTeraDB\Config\ENVS;
use ZTeraDB\Config\ResponseDataTypes;
use ZTeraDB\Config\ZTeraDBConfig;

$zteradb_config = new ZTeraDBConfig([
    "client_key" => "4V0TAR3DBM51JR0QM7GQIL3E49", # client key
    "access_key" => "4V5D0DUGA84SUFSR4DVLNDS0BI", # Access key
    "secret_key" => "396b451100b6bd998fc3d6795ac7e15b5d7ba948aa6fddad8c67a20d99850423471d40ac38f223be92155efdb371e4b62ad9951874d8cdec6d1fb236dd4d878a", # Secret key
    "database_id" => "4V0TKM8FHA0PM2OB0KJK6GT0S0", // Database ID
    "env" => ENVS::dev, # Devlopment environment
    "options" => new Options([
            'connection_pool' => new ConnectionPool(0, 1)  // Fixed the array key-value pair
        ]),
    "response_data_type" => new ResponseDataTypes(ResponseDataTypes::json), # The response data will be in JSON format
]);
```
